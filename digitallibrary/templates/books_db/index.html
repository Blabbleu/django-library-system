{% extends "base_generic.html" %}

{% block content %}
  <div class="container mt-4">
    <h1>Welcome to the Digital Library System</h1>

    {% if user.is_staff %}
      {% if user_department == 'LI' %}
        <h2>Librarian Management</h2>
        <div class="card mb-4">
          <div class="card-body">
            <ul class="list-unstyled">
              <li><a class="btn btn-primary mb-2" href="{% url 'reg_staff' %}">Register a New Staff</a></li>
              <li><a class="btn btn-primary mb-2" href="{% url 'reg_reader' %}">Register a New Reader</a></li>
              <li><a class="btn btn-primary mb-2" href="{% url 'query_reader_fine' %}">Fine Payment</a></li>
            </ul>
          </div>
        </div>
      {% elif user_department == 'IT' %}
        <h2>IT Department Management</h2>
        <div class="card mb-4">
          <div class="card-body">
            <ul class="list-unstyled">
              <li><a class="btn btn-primary mb-2" href="{% url 'new_book' %}">Register a New Book</a></li>
              <li><a class="btn btn-primary mb-2" href="{% url 'borrow_requests' %}">Manage Borrow Requests</a></li>
            </ul>
          </div>
        </div>
      {% elif user_department == 'WK' %}
        <h2>Warehouse Keeper Management</h2>
        <div class="card mb-4">
          <div class="card-body">
            <ul class="list-unstyled">
              <li><a class="btn btn-primary mb-2" href="{% url 'query_reader_return' %}">Return Books</a></li>
              <li><a class="btn btn-primary mb-2" href="{% url 'removal_report' %}">Remove a Book from Inventory</a></li>
            </ul>
          </div>
        </div>
      {% endif %}

      <h2>Book Management</h2>
      <div class="card mb-4">
        <div class="card-body">
          <ul class="list-unstyled">
            <li><a class="btn btn-primary mb-2" href="{% url 'new_book' %}">Register a New Book</a></li>
            <li><a class="btn btn-primary mb-2" href="{% url 'borrow_book' %}">Borrow Books</a></li>
            <li><a class="btn btn-primary mb-2" href="{% url 'borrow_requests' %}">Manage Borrow Requests</a></li>
            <li><a class="btn btn-primary mb-2" href="{% url 'query_reader_return' %}">Return Books</a></li>
            <li><a class="btn btn-primary mb-2" href="{% url 'lost_report' %}">Report a Lost Book</a></li>
            <li><a class="btn btn-primary mb-2" href="{% url 'removal_report' %}">Remove a Book from Inventory</a></li>
          </ul>
        </div>
      </div>

      <h2>Inventory</h2>
      <div class="card mb-4">
        <div class="card-body">
          <ul class="list-unstyled">
            <li><a class="btn btn-primary mb-2" href="{% url 'book_list' %}">List of Books</a></li>
          </ul>
        </div>
      </div>

      <h2>Report Generations</h2>
      <div class="card mb-4">
        <div class="card-body">
          <ul class="list-unstyled">
            <li><a class="btn btn-primary mb-2" href="{% url 'borrow_report' %}">Monthly Book Borrowing Statistics</a></li>
            <li><a class="btn btn-primary mb-2" href="{% url 'overdue_books_report' %}">Overdue Books Report</a></li>
            <li><a class="btn btn-primary mb-2" href="{% url 'fines_report' %}">Readers Owing Fines Report</a></li>
          </ul>
        </div>
      </div>

    {% else %}
      <h2>Reader Dashboard</h2>
      <div class="card mb-4">
        <div class="card-body">
          <ul class="list-unstyled">
            <li><a class="btn btn-primary mb-2" href="{% url 'borrow_books_reader' %}">Borrow Books</a></li>
            <li><a class="btn btn-primary mb-2" href="{% url 'query_reader_return' %}">Return Books</a></li>
            <li><a class="btn btn-primary mb-2" href="{% url 'query_reader_fine' %}">Fine Payment</a></li>
            <li><a class="btn btn-primary mb-2" href="{% url 'book_list' %}">View Available Books</a></li>
          </ul>
        </div>
      </div>
    {% endif %}
  </div>
{% endblock %}
